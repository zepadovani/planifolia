#N canvas 189 23 1251 855 12;
#X obj 51 40 inlet;
#X obj 63 498 pack 0 \$1 1;
#X obj 310 509 pack 0 \$1 0;
#X text 307 418 turn-off last val;
#X text 60 374 turn-on this val;
#X obj 310 567 s \$2-noread;
#N canvas 0 23 1440 688 color_control 0;
#X obj 1198 149 symbol \$3;
#X obj 1198 171 sel row col;
#X floatatom 1191 277 5 0 0 0 - - -;
#X text 1231 280 idx;
#N canvas 0 23 450 300 rowcol2idx 0;
#X obj 91 26 inlet;
#X obj 91 70 - 1;
#X obj 91 136 +;
#X obj 119 136 - 1;
#X obj 91 92 t f b;
#X obj 91 114 *;
#X obj 91 158 outlet;
#X obj 91 48 unpack 0 0;
#X obj 133 92 v \$2-mtx-cols;
#X connect 0 0 7 0;
#X connect 1 0 4 0;
#X connect 2 0 6 0;
#X connect 3 0 2 1;
#X connect 4 0 5 0;
#X connect 4 1 8 0;
#X connect 5 0 2 0;
#X connect 7 0 1 0;
#X connect 7 1 3 0;
#X connect 8 0 5 1;
#X restore 1191 255 pd rowcol2idx;
#X msg 1197 217 set \, adddollar 1 \, adddollar 2;
#X msg 1198 193 set \, adddollar 2 \, adddollar 1;
#X msg 1272 394 symbol \$2-cval-\$1;
#X obj 1191 328 list store;
#X obj 1191 300 t b f;
#X obj 1191 394 array get;
#X msg 1222 371 6;
#X obj 1191 416 list split 3;
#X msg 1033 518 cellcolorons;
#X msg 1033 438 cellcoloroffs;
#X obj 1117 540 list append;
#X text 1005 527 ion;
#X obj 1117 460 list append;
#X text 998 450 ioff;
#X obj 1033 460 list append;
#X obj 1033 540 list append;
#X obj 1033 561 s \$2-colors;
#X obj 1033 481 s \$2-colors;
#X obj 1272 329 pack 0 \$2;
#X obj 1198 127 r \$2-cloneloadbang;
#X msg 1117 209 \$2 \$1;
#X obj 1117 231 t b b l l;
#X text 1021 106 inactive color;
#X obj 1117 181 pack 1 \$1;
#X msg 1191 372 0;
#X obj 240 136 symbol \$3;
#X obj 240 158 sel row col;
#X floatatom 233 264 5 0 0 0 - - -;
#X text 273 267 idx;
#N canvas 0 23 450 300 rowcol2idx 0;
#X obj 91 26 inlet;
#X obj 91 70 - 1;
#X obj 91 136 +;
#X obj 119 136 - 1;
#X obj 91 92 t f b;
#X obj 91 114 *;
#X obj 91 158 outlet;
#X obj 91 48 unpack 0 0;
#X obj 133 92 v \$2-mtx-cols;
#X connect 0 0 7 0;
#X connect 1 0 4 0;
#X connect 2 0 6 0;
#X connect 3 0 2 1;
#X connect 4 0 5 0;
#X connect 4 1 8 0;
#X connect 5 0 2 0;
#X connect 7 0 1 0;
#X connect 7 1 3 0;
#X connect 8 0 5 1;
#X restore 233 242 pd rowcol2idx;
#X msg 239 204 set \, adddollar 1 \, adddollar 2;
#X msg 240 180 set \, adddollar 2 \, adddollar 1;
#X msg 314 381 symbol \$2-cval-\$1;
#X obj 233 315 list store;
#X obj 233 287 t b f;
#X obj 233 381 array get;
#X msg 264 358 6;
#X obj 233 403 list split 3;
#X msg 75 505 cellcolorons;
#X msg 75 425 cellcoloroffs;
#X obj 159 527 list append;
#X obj 159 447 list append;
#X obj 75 447 list append;
#X obj 75 527 list append;
#X obj 75 548 s \$2-colors;
#X obj 75 468 s \$2-colors;
#X obj 314 316 pack 0 \$2;
#X obj 240 114 r \$2-cloneloadbang;
#X msg 159 196 \$2 \$1;
#X obj 159 218 t b b l l;
#X obj 159 168 pack 1 \$1;
#X msg 233 359 6;
#X obj 719 143 symbol \$3;
#X obj 719 165 sel row col;
#X floatatom 712 271 5 0 0 0 - - -;
#X text 752 274 idx;
#N canvas 0 23 450 300 rowcol2idx 0;
#X obj 91 26 inlet;
#X obj 91 70 - 1;
#X obj 91 136 +;
#X obj 119 136 - 1;
#X obj 91 92 t f b;
#X obj 91 114 *;
#X obj 91 158 outlet;
#X obj 91 48 unpack 0 0;
#X obj 133 92 v \$2-mtx-cols;
#X connect 0 0 7 0;
#X connect 1 0 4 0;
#X connect 2 0 6 0;
#X connect 3 0 2 1;
#X connect 4 0 5 0;
#X connect 4 1 8 0;
#X connect 5 0 2 0;
#X connect 7 0 1 0;
#X connect 7 1 3 0;
#X connect 8 0 5 1;
#X restore 712 249 pd rowcol2idx;
#X msg 718 211 set \, adddollar 1 \, adddollar 2;
#X msg 719 187 set \, adddollar 2 \, adddollar 1;
#X msg 793 388 symbol \$2-cval-\$1;
#X obj 712 322 list store;
#X obj 712 294 t b f;
#X obj 712 388 array get;
#X msg 743 365 6;
#X obj 712 410 list split 3;
#X msg 554 512 cellcolorons;
#X msg 554 432 cellcoloroffs;
#X obj 638 534 list append;
#X obj 638 454 list append;
#X obj 554 454 list append;
#X obj 554 534 list append;
#X obj 554 555 s \$2-colors;
#X obj 554 475 s \$2-colors;
#X obj 793 323 pack 0 \$2;
#X obj 719 121 r \$2-cloneloadbang;
#X msg 638 203 \$2 \$1;
#X obj 638 225 t b b l l;
#X obj 638 175 pack 1 \$1;
#X msg 712 366 12;
#X text 63 93 active color;
#X text 542 100 half-active color;
#X obj 233 337 t b b;
#X obj 712 345 t b b;
#X obj 1191 350 t b b;
#X obj 64 111 r \$0-cauxval;
#X obj 543 117 r \$0-cauxlastoff;
#X obj 1022 124 r \$0-cauxlast;
#X obj 562 81 tabwrite;
#X msg 724 57 set \$2-cval-\$1;
#X msg 625 81 18;
#N canvas 0 23 1323 762 to_idx 0;
#N canvas 0 23 1277 713 rowcol2idx 0;
#X obj 91 26 inlet;
#X obj 91 70 - 1;
#X obj 91 136 +;
#X obj 119 136 - 1;
#X obj 91 92 t f b;
#X obj 91 114 *;
#X obj 91 158 outlet;
#X obj 91 48 unpack 0 0;
#X obj 133 92 v \$2-mtx-cols;
#X connect 0 0 7 0;
#X connect 1 0 4 0;
#X connect 2 0 6 0;
#X connect 3 0 2 1;
#X connect 4 0 5 0;
#X connect 4 1 8 0;
#X connect 5 0 2 0;
#X connect 7 0 1 0;
#X connect 7 1 3 0;
#X connect 8 0 5 1;
#X restore 58 198 pd rowcol2idx;
#X obj 58 153 pack 0 \$1;
#X obj 232 81 symbol \$3;
#X obj 232 103 sel row col;
#X msg 231 149 set \, adddollar 1 \, adddollar 2;
#X msg 232 125 set \, adddollar 2 \, adddollar 1;
#X obj 232 59 r \$2-cloneloadbang;
#X msg 58 176 \$2 \$1;
#X obj 57 94 inlet;
#X obj 58 222 outlet;
#X connect 0 0 9 0;
#X connect 1 0 7 0;
#X connect 2 0 3 0;
#X connect 3 0 5 0;
#X connect 3 1 4 0;
#X connect 4 0 7 0;
#X connect 5 0 7 0;
#X connect 6 0 2 0;
#X connect 7 0 0 0;
#X connect 8 0 1 0;
#X restore 585 57 pd to_idx;
#X obj 562 35 t b f b;
#X msg 551 56 2;
#X obj 105 69 tabwrite;
#X msg 227 68 set \$2-cval-\$1;
#X msg 168 69 18;
#N canvas 0 23 1323 762 to_idx 0;
#N canvas 0 23 1277 713 rowcol2idx 0;
#X obj 91 26 inlet;
#X obj 91 70 - 1;
#X obj 91 136 +;
#X obj 119 136 - 1;
#X obj 91 92 t f b;
#X obj 91 114 *;
#X obj 91 158 outlet;
#X obj 91 48 unpack 0 0;
#X obj 133 92 v \$2-mtx-cols;
#X connect 0 0 7 0;
#X connect 1 0 4 0;
#X connect 2 0 6 0;
#X connect 3 0 2 1;
#X connect 4 0 5 0;
#X connect 4 1 8 0;
#X connect 5 0 2 0;
#X connect 7 0 1 0;
#X connect 7 1 3 0;
#X connect 8 0 5 1;
#X restore 57 199 pd rowcol2idx;
#X obj 58 153 pack 0 \$1;
#X obj 232 81 symbol \$3;
#X obj 232 103 sel row col;
#X msg 231 149 set \, adddollar 1 \, adddollar 2;
#X msg 232 125 set \, adddollar 2 \, adddollar 1;
#X obj 232 59 r \$2-cloneloadbang;
#X msg 58 176 \$2 \$1;
#X obj 57 94 inlet;
#X obj 58 222 outlet;
#X connect 0 0 9 0;
#X connect 1 0 7 0;
#X connect 2 0 3 0;
#X connect 3 0 5 0;
#X connect 3 1 4 0;
#X connect 4 0 7 0;
#X connect 5 0 7 0;
#X connect 6 0 2 0;
#X connect 7 0 0 0;
#X connect 8 0 1 0;
#X restore 128 45 pd to_idx;
#X obj 105 23 t b f b;
#X msg 94 44 1;
#X obj 1034 77 tabwrite;
#X msg 1196 53 set \$2-cval-\$1;
#X msg 1097 77 18;
#N canvas 0 23 1323 762 to_idx 0;
#N canvas 0 23 1277 713 rowcol2idx 0;
#X obj 91 26 inlet;
#X obj 91 70 - 1;
#X obj 91 136 +;
#X obj 119 136 - 1;
#X obj 91 92 t f b;
#X obj 91 114 *;
#X obj 91 158 outlet;
#X obj 91 48 unpack 0 0;
#X obj 133 92 v \$2-mtx-cols;
#X connect 0 0 7 0;
#X connect 1 0 4 0;
#X connect 2 0 6 0;
#X connect 3 0 2 1;
#X connect 4 0 5 0;
#X connect 4 1 8 0;
#X connect 5 0 2 0;
#X connect 7 0 1 0;
#X connect 7 1 3 0;
#X connect 8 0 5 1;
#X restore 58 198 pd rowcol2idx;
#X obj 58 153 pack 0 \$1;
#X obj 232 81 symbol \$3;
#X obj 232 103 sel row col;
#X msg 231 149 set \, adddollar 1 \, adddollar 2;
#X msg 232 125 set \, adddollar 2 \, adddollar 1;
#X obj 232 59 r \$2-cloneloadbang;
#X msg 58 176 \$2 \$1;
#X obj 57 94 inlet;
#X obj 58 222 outlet;
#X connect 0 0 9 0;
#X connect 1 0 7 0;
#X connect 2 0 3 0;
#X connect 3 0 5 0;
#X connect 3 1 4 0;
#X connect 4 0 7 0;
#X connect 5 0 7 0;
#X connect 6 0 2 0;
#X connect 7 0 0 0;
#X connect 8 0 1 0;
#X restore 1057 53 pd to_idx;
#X obj 1034 31 t b f b;
#X msg 1023 52 0;
#X obj 227 45 pack 0 \$2;
#X obj 654 57 pack 0 \$2;
#X obj 1126 53 pack 0 \$2;
#X connect 0 0 1 0;
#X connect 1 0 6 0;
#X connect 1 1 5 0;
#X connect 2 0 9 0;
#X connect 4 0 2 0;
#X connect 5 0 25 0;
#X connect 6 0 25 0;
#X connect 7 0 10 2;
#X connect 8 0 88 0;
#X connect 9 0 8 0;
#X connect 9 1 23 0;
#X connect 10 0 12 0;
#X connect 11 0 10 1;
#X connect 12 0 17 1;
#X connect 12 1 15 1;
#X connect 13 0 20 0;
#X connect 14 0 19 0;
#X connect 15 0 20 1;
#X connect 17 0 19 1;
#X connect 19 0 22 0;
#X connect 20 0 21 0;
#X connect 23 0 7 0;
#X connect 24 0 0 0;
#X connect 25 0 26 0;
#X connect 26 0 14 0;
#X connect 26 1 13 0;
#X connect 26 2 17 0;
#X connect 26 2 15 0;
#X connect 26 3 4 0;
#X connect 28 0 25 0;
#X connect 29 0 10 0;
#X connect 30 0 31 0;
#X connect 31 0 36 0;
#X connect 31 1 35 0;
#X connect 32 0 39 0;
#X connect 34 0 32 0;
#X connect 35 0 53 0;
#X connect 36 0 53 0;
#X connect 37 0 40 2;
#X connect 38 0 86 0;
#X connect 39 0 38 0;
#X connect 39 1 51 0;
#X connect 40 0 42 0;
#X connect 41 0 40 1;
#X connect 42 0 46 1;
#X connect 42 1 45 1;
#X connect 43 0 48 0;
#X connect 44 0 47 0;
#X connect 45 0 48 1;
#X connect 46 0 47 1;
#X connect 47 0 50 0;
#X connect 48 0 49 0;
#X connect 51 0 37 0;
#X connect 52 0 30 0;
#X connect 53 0 54 0;
#X connect 54 0 44 0;
#X connect 54 1 43 0;
#X connect 54 2 46 0;
#X connect 54 2 45 0;
#X connect 54 3 34 0;
#X connect 55 0 53 0;
#X connect 56 0 40 0;
#X connect 57 0 58 0;
#X connect 58 0 63 0;
#X connect 58 1 62 0;
#X connect 59 0 66 0;
#X connect 61 0 59 0;
#X connect 62 0 80 0;
#X connect 63 0 80 0;
#X connect 64 0 67 2;
#X connect 65 0 87 0;
#X connect 66 0 65 0;
#X connect 66 1 78 0;
#X connect 67 0 69 0;
#X connect 68 0 67 1;
#X connect 69 0 73 1;
#X connect 69 1 72 1;
#X connect 70 0 75 0;
#X connect 71 0 74 0;
#X connect 72 0 75 1;
#X connect 73 0 74 1;
#X connect 74 0 77 0;
#X connect 75 0 76 0;
#X connect 78 0 64 0;
#X connect 79 0 57 0;
#X connect 80 0 81 0;
#X connect 81 0 71 0;
#X connect 81 1 70 0;
#X connect 81 2 73 0;
#X connect 81 2 72 0;
#X connect 81 3 61 0;
#X connect 82 0 80 0;
#X connect 83 0 67 0;
#X connect 86 0 56 0;
#X connect 86 1 41 0;
#X connect 87 0 83 0;
#X connect 87 1 68 0;
#X connect 88 0 29 0;
#X connect 88 1 11 0;
#X connect 89 0 55 0;
#X connect 89 0 102 0;
#X connect 90 0 82 0;
#X connect 90 0 96 0;
#X connect 91 0 28 0;
#X connect 91 0 108 0;
#X connect 93 0 92 0;
#X connect 94 0 92 1;
#X connect 95 0 111 0;
#X connect 96 0 97 0;
#X connect 96 1 95 0;
#X connect 96 2 94 0;
#X connect 97 0 92 0;
#X connect 99 0 98 0;
#X connect 100 0 98 1;
#X connect 101 0 110 0;
#X connect 102 0 103 0;
#X connect 102 1 101 0;
#X connect 102 2 100 0;
#X connect 103 0 98 0;
#X connect 105 0 104 0;
#X connect 106 0 104 1;
#X connect 107 0 112 0;
#X connect 108 0 109 0;
#X connect 108 1 107 0;
#X connect 108 2 106 0;
#X connect 109 0 104 0;
#X connect 110 0 99 0;
#X connect 111 0 93 0;
#X connect 112 0 105 0;
#X restore 93 40 pd color_control;
#X msg 63 523 \$2 \$1 \$3;
#X msg 310 532 \$2 \$1 \$3;
#N canvas 499 23 450 300 sw 1;
#X obj 165 205 t l l;
#X msg 214 205 \$1;
#X obj 214 229 == \$1;
#X obj 165 229 spigot;
#X msg 134 229 \$2;
#X obj 106 182 route float list;
#X obj 106 229 f;
#X obj 106 159 r \$2-\$3metros_sw;
#X obj 138 280 outlet;
#X obj 106 304 s \$0-swval;
#X obj 106 254 t f f f;
#X obj 162 254 v \$2-\$3-\$1-sw;
#X connect 0 0 3 0;
#X connect 0 1 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 1;
#X connect 3 0 4 0;
#X connect 4 0 6 0;
#X connect 5 0 6 0;
#X connect 5 1 0 0;
#X connect 6 0 10 0;
#X connect 7 0 5 0;
#X connect 10 0 8 0;
#X connect 10 1 9 0;
#X connect 10 2 11 0;
#X restore 51 87 pd sw;
#N canvas 0 23 450 300 metro 0;
#X obj 9 8 inlet;
#X obj 9 295 outlet;
#X obj 9 273 metro;
#X obj 324 58 t l l;
#X msg 356 80 \$1;
#X obj 356 104 == \$1;
#X obj 324 127 spigot;
#X msg 84 181 \$2;
#X obj 54 -6 route float list;
#X obj 54 181 f;
#X obj 59 158 t b f;
#X msg 82 204 1;
#X obj 54 -28 r \$2-\$3metros_set;
#X obj 59 18 r \$2-\$3beatgroup_set;
#X floatatom 82 256 5 0 0 0 - - -;
#X obj 113 204 r \$2-cloneloadbang;
#X obj 55 204 / 1;
#X obj 113 286 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 59 43 route float list;
#X obj 113 65 t l l;
#X msg 152 87 \$1;
#X obj 152 111 == \$1;
#X obj 113 134 spigot;
#X msg 112 157 \$2;
#X connect 0 0 2 0;
#X connect 2 0 1 0;
#X connect 2 0 17 0;
#X connect 3 0 6 0;
#X connect 3 1 4 0;
#X connect 4 0 5 0;
#X connect 5 0 6 1;
#X connect 6 0 7 0;
#X connect 7 0 9 0;
#X connect 8 0 9 0;
#X connect 8 1 3 0;
#X connect 9 0 16 0;
#X connect 10 0 9 0;
#X connect 10 1 16 1;
#X connect 11 0 16 1;
#X connect 12 0 8 0;
#X connect 13 0 18 0;
#X connect 15 0 11 0;
#X connect 16 0 2 1;
#X connect 16 0 14 0;
#X connect 18 0 10 0;
#X connect 18 1 19 0;
#X connect 19 0 22 0;
#X connect 19 1 20 0;
#X connect 20 0 21 0;
#X connect 21 0 22 1;
#X connect 22 0 23 0;
#X connect 23 0 10 0;
#X restore 51 109 pd metro;
#N canvas 523 23 917 681 beatpattern 0;
#X msg 191 180 1;
#N canvas 0 23 450 300 rot 0;
#X obj 120 24 inlet;
#X obj 20 24 inlet;
#X obj 120 46 list store;
#X obj 38 76 list length;
#X obj 20 99 mod;
#X obj 20 123 f;
#X obj 53 146 list store;
#X obj 53 168 outlet;
#X msg 53 123 get \$1 1;
#X connect 0 0 2 0;
#X connect 1 0 4 0;
#X connect 2 0 3 0;
#X connect 2 0 6 1;
#X connect 3 0 4 1;
#X connect 4 0 5 0;
#X connect 5 0 8 0;
#X connect 6 0 7 0;
#X connect 8 0 6 0;
#X restore 141 180 pd rot;
#X obj 112 180 ==;
#X obj 80 132 t f f;
#X obj 121 132 f;
#X obj 150 132 + 1;
#X msg 198 132 1;
#X obj 261 181 f;
#X obj 261 203 + 1;
#X obj 39 132 sel 1;
#X obj 112 203 sel 1;
#X obj 229 132 t b b;
#X obj 272 132 t b b;
#X obj 403 108 t b b;
#X msg 304 157 0;
#X obj 180 155 r \$0-patls;
#X obj 229 108 r \$0-\$3beat_newcycle;
#X obj 314 132 r \$0-\$3beat_reset;
#X obj 112 225 s \$0-\$3beat_newcycle;
#X obj 121 102 inlet;
#X obj 39 250 outlet;
#X obj 551 199 t a b;
#X obj 551 222 s \$0-patls;
#X obj 610 132 list split 1;
#X obj 583 177 list store;
#X msg 610 155 \$1;
#X obj 560 155 sel \$1;
#X obj 551 88 r \$2-all\$3s_beatpat_set;
#X obj 610 110 r \$2-\$3_beatpat_set;
#X obj 594 199 s \$0-\$3beat_reset;
#X floatatom 123 157 5 0 0 0 - - -;
#X obj 403 86 r \$2-cloneloadbang;
#X connect 0 0 1 1;
#X connect 1 0 2 1;
#X connect 2 0 10 0;
#X connect 3 0 9 0;
#X connect 3 1 2 0;
#X connect 3 1 30 0;
#X connect 4 0 5 0;
#X connect 4 0 3 0;
#X connect 5 0 4 1;
#X connect 6 0 4 1;
#X connect 7 0 8 0;
#X connect 7 0 1 0;
#X connect 8 0 7 1;
#X connect 9 0 20 0;
#X connect 10 0 18 0;
#X connect 11 0 6 0;
#X connect 11 1 7 0;
#X connect 12 0 11 0;
#X connect 12 1 14 0;
#X connect 13 0 12 0;
#X connect 13 1 0 0;
#X connect 14 0 7 0;
#X connect 15 0 1 1;
#X connect 16 0 11 0;
#X connect 17 0 12 0;
#X connect 19 0 4 0;
#X connect 21 0 22 0;
#X connect 21 1 29 0;
#X connect 23 0 25 0;
#X connect 23 1 24 1;
#X connect 24 0 21 0;
#X connect 25 0 26 0;
#X connect 26 0 24 0;
#X connect 27 0 21 0;
#X connect 28 0 23 0;
#X connect 31 0 13 0;
#X restore 51 131 pd beatpattern;
#N canvas 0 23 863 552 del 0;
#X obj 42 -13 inlet;
#X obj 42 135 delay;
#X msg 89 160 0;
#X obj 89 138 r \$2-cloneloadbang;
#X obj 42 158 outlet;
#X obj 133 83 t l l;
#X msg 182 83 \$1;
#X obj 182 107 == \$1;
#X obj 133 107 spigot;
#X msg 102 107 \$2;
#X obj 74 60 route float list;
#X obj 74 107 f;
#X floatatom 218 39 5 0 0 0 - - -;
#X obj 61 18 r \$2-all\$3s_del_set;
#X obj 74 39 r \$2-\$3_del_set;
#X connect 0 0 1 0;
#X connect 1 0 4 0;
#X connect 2 0 1 1;
#X connect 3 0 2 0;
#X connect 5 0 8 0;
#X connect 5 1 6 0;
#X connect 6 0 7 0;
#X connect 7 0 8 1;
#X connect 8 0 9 0;
#X connect 9 0 11 0;
#X connect 10 0 11 0;
#X connect 10 1 5 0;
#X connect 11 0 1 1;
#X connect 13 0 11 0;
#X connect 14 0 10 0;
#X connect 14 0 12 0;
#X restore 51 153 pd del;
#X obj 51 241 mod;
#X obj 51 263 + 1;
#X obj 63 418 f;
#X obj 216 428 f \$1;
#X obj 63 448 t f f b;
#X obj 62 580 s \$2-read;
#X obj 216 452 - 1;
#X obj 51 219 spigot;
#X obj 99 219 r \$0-swval;
#X obj 310 436 r \$0-auxlast;
#X obj 272 394 r \$0-auxlastoff;
#X obj 86 474 tabwrite \$2-acells\$3;
#X obj 63 393 r \$0-auxval;
#X obj 316 80 r \$2-cloneloadbang;
#N canvas 0 23 893 764 colrowmessage 0;
#X obj 169 66 symbol \$3;
#X obj 169 89 sel col row;
#X msg 169 112 set \, adddollar 1 \, adddollar 2 \, adddollar 3;
#X msg 207 137 set \, adddollar 2 \, adddollar 1 \, adddollar 3;
#X obj 169 165 outlet;
#X obj 169 44 inlet;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 3 0;
#X connect 2 0 4 0;
#X connect 3 0 4 0;
#X connect 5 0 0 0;
#X restore 316 102 pd colrowmessage;
#X obj 316 124 s \$0_colrowmess;
#X obj 131 523 r \$0_colrowmess;
#X obj 377 532 r \$0_colrowmess;
#X obj 79 241 r \$0-modnum;
#N canvas 0 23 348 262 modset 0;
#X obj 6 4 r \$2-cloneloadbang;
#X obj 6 93 v \$2-mtx-rows;
#X obj 6 116 s \$0-modnum;
#X obj 6 27 symbol \$3;
#X obj 6 50 sel col row;
#X obj 43 71 v \$2-mtx-cols;
#X connect 0 0 3 0;
#X connect 1 0 2 0;
#X connect 3 0 4 0;
#X connect 4 0 1 0;
#X connect 4 1 5 0;
#X connect 5 0 2 0;
#X restore 166 241 pd modset;
#N canvas 359 36 903 647 phase_numset 0;
#X obj 54 139 inlet;
#X obj 54 449 outlet;
#X obj 54 408 f;
#X obj 114 408 + 1;
#X msg 240 408 0;
#X obj 240 387 r \$2-cloneloadbang;
#X obj 142 408 r \$0-localdir;
#X obj 145 232 t l l;
#X msg 194 232 \$1;
#X obj 194 256 == \$1;
#X obj 145 256 spigot;
#X msg 114 256 \$2;
#X obj 86 209 route float list;
#X obj 86 256 f;
#X obj 73 167 r \$2-all\$3s_num_set;
#X obj 86 188 r \$2-\$3_num_set;
#X obj 86 281 - 1;
#X obj 424 163 t l l;
#X msg 473 163 \$1;
#X obj 473 187 == \$1;
#X obj 424 187 spigot;
#X msg 393 187 \$2;
#X obj 365 140 route float list;
#X obj 365 187 f;
#X floatatom 509 119 5 0 0 0 - - -;
#X obj 365 212 - 1;
#X obj 414 334 s \$2-\$3metros_sw;
#X obj 413 291 pack 0 \$1;
#X obj 340 321 pack 1 \$1;
#X msg 414 313 \$2 \$1;
#X obj 397 263 v \$2-\$3-\$1-sw;
#X obj 365 234 t b f b b;
#X obj 340 298 f;
#X obj 352 98 r \$2-all\$3s_numnow_set;
#X obj 365 119 r \$2-\$3_numnow_set;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X connect 2 0 1 0;
#X connect 3 0 2 1;
#X connect 4 0 2 1;
#X connect 5 0 4 0;
#X connect 6 0 3 1;
#X connect 7 0 10 0;
#X connect 7 1 8 0;
#X connect 8 0 9 0;
#X connect 9 0 10 1;
#X connect 10 0 11 0;
#X connect 11 0 13 0;
#X connect 12 0 13 0;
#X connect 12 1 7 0;
#X connect 13 0 16 0;
#X connect 14 0 13 0;
#X connect 15 0 12 0;
#X connect 16 0 2 1;
#X connect 17 0 20 0;
#X connect 17 1 18 0;
#X connect 18 0 19 0;
#X connect 19 0 20 1;
#X connect 20 0 21 0;
#X connect 21 0 23 0;
#X connect 22 0 23 0;
#X connect 22 1 17 0;
#X connect 23 0 25 0;
#X connect 25 0 31 0;
#X connect 27 0 29 0;
#X connect 28 0 29 0;
#X connect 29 0 26 0;
#X connect 30 0 32 1;
#X connect 31 0 32 0;
#X connect 31 1 2 1;
#X connect 31 2 27 0;
#X connect 31 3 30 0;
#X connect 32 0 28 0;
#X connect 33 0 23 0;
#X connect 34 0 22 0;
#X connect 34 0 24 0;
#X restore 51 197 pd phase_numset;
#N canvas 379 56 1061 762 dirpattern 0;
#X obj 51 659 outlet;
#X obj 51 63 inlet;
#X obj 384 245 t a b;
#X obj 443 178 list split 1;
#X obj 416 223 list store;
#X msg 443 201 \$1;
#X obj 393 201 sel \$1;
#X obj 384 268 s \$0-dirpatls;
#X msg 190 243 1;
#N canvas 0 23 450 300 rot 0;
#X obj 120 24 inlet;
#X obj 20 24 inlet;
#X obj 120 46 list store;
#X obj 38 76 list length;
#X obj 20 99 mod;
#X obj 20 123 f;
#X obj 53 146 list store;
#X obj 53 168 outlet;
#X msg 53 123 get \$1 1;
#X connect 0 0 2 0;
#X connect 1 0 4 0;
#X connect 2 0 3 0;
#X connect 2 0 6 1;
#X connect 3 0 4 1;
#X connect 4 0 5 0;
#X connect 5 0 8 0;
#X connect 6 0 7 0;
#X connect 8 0 6 0;
#X restore 140 243 pd rot;
#X obj 83 243 f;
#X obj 112 243 + 1;
#X msg 101 221 0;
#X obj 140 269 s \$0-localdir;
#X obj 179 222 r \$0-dirpatls;
#X obj 101 200 r \$0-\$3dir_reset;
#X obj 384 134 r \$2-all\$3s_dirpat_set;
#X obj 443 156 r \$2-\$3_dirpat_set;
#X obj 426 245 s \$0-\$3dir_reset;
#X obj 51 189 t b b;
#X obj 221 243 r \$2-cloneloadbang;
#X connect 1 0 19 0;
#X connect 2 0 7 0;
#X connect 2 1 18 0;
#X connect 3 0 5 0;
#X connect 3 1 4 1;
#X connect 4 0 2 0;
#X connect 5 0 6 0;
#X connect 6 0 4 0;
#X connect 8 0 9 1;
#X connect 9 0 13 0;
#X connect 10 0 11 0;
#X connect 10 0 9 0;
#X connect 11 0 10 1;
#X connect 12 0 10 1;
#X connect 14 0 9 1;
#X connect 15 0 12 0;
#X connect 16 0 2 0;
#X connect 17 0 3 0;
#X connect 19 0 0 0;
#X connect 19 1 10 0;
#X connect 20 0 8 0;
#X restore 51 175 pd dirpattern;
#N canvas 0 23 1440 855 color_start 0;
#X obj 144 42 symbol \$3;
#X obj 144 64 sel row col;
#X obj 144 113 v \$2-mtx-cols;
#X obj 247 113 v \$2-mtx-rows;
#X obj 144 136 t f b;
#X obj 144 177 until;
#X obj 144 201 f;
#X obj 172 201 + 1;
#X msg 190 177 1;
#X obj 144 225 pack 0 \$1;
#X floatatom 218 321 5 0 0 0 - - -;
#X text 258 324 idx;
#N canvas 0 23 450 300 rowcol2idx 0;
#X obj 91 26 inlet;
#X obj 91 70 - 1;
#X obj 91 136 +;
#X obj 119 136 - 1;
#X obj 91 92 t f b;
#X obj 91 114 *;
#X obj 91 158 outlet;
#X obj 91 48 unpack 0 0;
#X obj 133 92 v \$2-mtx-cols;
#X connect 0 0 7 0;
#X connect 1 0 4 0;
#X connect 2 0 6 0;
#X connect 3 0 2 1;
#X connect 4 0 5 0;
#X connect 4 1 8 0;
#X connect 5 0 2 0;
#X connect 7 0 1 0;
#X connect 7 1 3 0;
#X connect 8 0 5 1;
#X restore 218 299 pd rowcol2idx;
#X msg 251 182 set \, adddollar 1 \, adddollar 2;
#X msg 252 158 set \, adddollar 2 \, adddollar 1;
#X obj 144 87 t b b;
#X obj 247 86 t b b;
#X msg 299 398 symbol \$2-cval-\$1;
#X obj 218 396 array get;
#X text 542 204 cval;
#X text 669 220 0 1 2;
#X text 670 257 3 4 5;
#X text 669 204 h s v;
#X text 670 242 h s v;
#X text 670 282 h s v;
#X text 670 297 6 7 8;
#X text 582 204 ioff;
#X text 583 241 ion;
#X text 583 281 aoff;
#X text 670 322 h s v;
#X text 583 321 aon;
#X text 670 362 h s v;
#X text 583 361 hoff;
#X text 670 402 h s v;
#X text 583 401 hon;
#X text 670 337 9 10 11;
#X text 670 377 12 13 14;
#X text 670 418 15 16 17;
#X msg 249 374 6;
#X obj 218 420 list split 3;
#X msg 60 522 cellcolorons;
#X msg 60 442 cellcoloroffs;
#X obj 144 544 list append;
#X text 32 521 ion;
#X obj 144 464 list append;
#X text 25 444 ioff;
#X obj 60 464 list append;
#X obj 60 544 list append;
#X obj 60 565 s \$2-colors;
#X obj 60 485 s \$2-colors;
#X obj 299 373 pack 0 \$2;
#X obj 144 20 r \$2-cloneloadbang;
#X msg 144 253 \$2 \$1;
#X obj 144 275 t b b l l;
#X obj 220 348 t b b f;
#X msg 218 374 0;
#X connect 0 0 1 0;
#X connect 1 0 15 0;
#X connect 1 1 16 0;
#X connect 2 0 4 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 4 1 8 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 6 0 9 0;
#X connect 7 0 6 1;
#X connect 8 0 6 1;
#X connect 9 0 52 0;
#X connect 10 0 54 0;
#X connect 12 0 10 0;
#X connect 13 0 52 0;
#X connect 14 0 52 0;
#X connect 15 0 2 0;
#X connect 15 1 14 0;
#X connect 16 0 3 0;
#X connect 16 1 13 0;
#X connect 17 0 18 2;
#X connect 18 0 39 0;
#X connect 38 0 18 1;
#X connect 39 0 44 1;
#X connect 39 1 42 1;
#X connect 40 0 47 0;
#X connect 41 0 46 0;
#X connect 42 0 47 1;
#X connect 44 0 46 1;
#X connect 46 0 49 0;
#X connect 47 0 48 0;
#X connect 50 0 17 0;
#X connect 51 0 0 0;
#X connect 52 0 53 0;
#X connect 53 0 41 0;
#X connect 53 1 40 0;
#X connect 53 2 44 0;
#X connect 53 2 42 0;
#X connect 53 3 12 0;
#X connect 54 0 55 0;
#X connect 54 1 38 0;
#X connect 54 2 50 0;
#X connect 55 0 18 0;
#X restore 93 19 pd color_start;
#N canvas 106 40 1538 1035 sendvals_and_colors 0;
#X obj -196 2 inlet;
#X obj -70 724 spigot;
#X msg -18 724 1;
#X msg 12 724 0;
#X obj 41 724 r \$2-cloneloadbang;
#N canvas 0 23 836 671 crcheck 0;
#X obj 71 50 r \$2-mode;
#X obj 62 153 outlet;
#X obj 111 153 outlet;
#X obj 71 74 route colrow;
#X connect 0 0 3 0;
#X connect 3 0 1 0;
#X connect 3 1 2 0;
#X restore -18 693 pd crcheck;
#X obj -70 676 sel 1;
#X obj -70 703 f;
#X obj -172 186 f;
#X obj -144 186 route 0;
#X obj -70 746 f;
#X obj -70 625 != \$1;
#X obj -14 361 !=;
#X obj -78 336 f \$1;
#X obj -70 651 &&;
#X obj -98 596 - 1;
#X obj -43 336 - 1;
#X obj 70 238 r \$2-cloneloadbang;
#N canvas 604 116 836 671 crcheck 0;
#X obj 71 50 r \$2-mode;
#X obj 62 153 outlet;
#X obj 111 153 outlet;
#X obj 71 74 route colrow;
#X connect 0 0 3 0;
#X connect 3 0 1 0;
#X connect 3 1 2 0;
#X restore 12 215 pd crcheck;
#X msg 11 238 0;
#X msg 41 238 1;
#X obj -28 261 spigot;
#X obj -28 283 f;
#X obj -98 262 t f b f f;
#X obj -41 129 r \$0-swval;
#X obj -41 175 f;
#X obj -41 151 sel 0;
#X obj -154 151 t f f;
#X obj -196 104 t f b f;
#X text 100 174 metro switch off -> half-active color / turn off synths
;
#X obj -138 104 s \$0-nowval;
#X obj 15 361 r \$0-nowval;
#X text 89 218 mode is not \$3\$4 -> just turn last cell to inactive
;
#X text 59 693 mode is \$3\$4;
#X text -15 615 active 0 for this same 0 (if matches \, should not
be turned off);
#X text 126 336 last 0 is not equal this same \$3?;
#X obj -70 472 symbol \$3;
#X obj -71 449 r \$2-cloneloadbang;
#X obj -14 336 tabread \$2-acells\$3;
#X obj -70 495 sel col row;
#X msg -70 567 set \$1-acellsrow;
#X msg -33 544 set \$1-acellscol;
#X obj -192 821 s \$0-auxval;
#X obj -154 129 r \$0-auxval;
#X obj -70 769 s \$0-auxlast;
#X obj -1 283 s \$0-auxlast;
#X obj -14 175 s \$0-auxlastoff;
#X floatatom -62 209 5 0 0 0 - - -;
#X obj -70 596 tabread;
#X floatatom 38 645 5 0 0 0 - - -;
#X floatatom 121 367 5 0 0 0 - - -;
#X floatatom -145 627 5 0 0 0 - - -;
#X obj -70 544 f \$2;
#X obj -33 521 f \$2;
#X obj 639 736 spigot;
#X msg 691 736 1;
#X msg 721 736 0;
#X obj 750 736 r \$2-cloneloadbang;
#N canvas 0 23 836 671 crcheck 0;
#X obj 71 50 r \$2-mode;
#X obj 62 153 outlet;
#X obj 111 153 outlet;
#X obj 71 74 route colrow;
#X connect 0 0 3 0;
#X connect 3 0 1 0;
#X connect 3 1 2 0;
#X restore 691 705 pd crcheck;
#X obj 639 688 sel 1;
#X obj 639 715 f;
#X obj 537 198 f;
#X obj 565 198 route 0;
#X obj 639 758 f;
#X obj 639 637 != \$1;
#X obj 695 373 !=;
#X obj 631 348 f \$1;
#X obj 639 663 &&;
#X obj 611 608 - 1;
#X obj 666 348 - 1;
#X obj 779 250 r \$2-cloneloadbang;
#N canvas 604 116 836 671 crcheck 0;
#X obj 71 50 r \$2-mode;
#X obj 62 153 outlet;
#X obj 111 153 outlet;
#X obj 71 74 route colrow;
#X connect 0 0 3 0;
#X connect 3 0 1 0;
#X connect 3 1 2 0;
#X restore 721 227 pd crcheck;
#X msg 720 250 0;
#X msg 750 250 1;
#X obj 681 273 spigot;
#X obj 681 295 f;
#X obj 611 274 t f b f f;
#X obj 695 101 r \$0-swval;
#X obj 695 147 f;
#X obj 695 123 sel 0;
#X obj 555 163 t f f;
#X obj 513 116 t f b f;
#X text 809 186 metro switch off -> half-active color / turn off synths
;
#X text 798 230 mode is not \$3\$4 -> just turn last cell to inactive
;
#X text 768 705 mode is \$3\$4;
#X text 694 627 active 0 for this same 0 (if matches \, should not
be turned off);
#X text 835 348 last 0 is not equal this same \$3?;
#X obj 639 484 symbol \$3;
#X obj 638 461 r \$2-cloneloadbang;
#X obj 695 348 tabread \$2-acells\$3;
#X obj 639 507 sel col row;
#X msg 639 579 set \$1-acellsrow;
#X msg 676 556 set \$1-acellscol;
#X floatatom 647 221 5 0 0 0 - - -;
#X obj 639 608 tabread;
#X floatatom 747 657 5 0 0 0 - - -;
#X floatatom 830 379 5 0 0 0 - - -;
#X floatatom 564 639 5 0 0 0 - - -;
#X obj 639 556 f \$2;
#X obj 676 533 f \$2;
#X obj 37 48 t f f;
#X obj 571 116 s \$0-cnowval;
#X obj 512 833 s \$0-cauxval;
#X obj 695 187 s \$0-cauxlastoff;
#X obj 708 295 s \$0-cauxlast;
#X obj 639 781 s \$0-cauxlast;
#X obj 724 373 r \$0-cnowval;
#X obj 512 803 f;
#X obj 555 141 r \$0-auxval;
#X obj 434 302 t b b;
#X obj 434 280 r \$2-stepcolorupdate;
#X connect 0 0 100 0;
#X connect 1 0 10 0;
#X connect 2 0 1 1;
#X connect 3 0 1 1;
#X connect 4 0 3 0;
#X connect 5 0 2 0;
#X connect 5 1 3 0;
#X connect 6 0 7 0;
#X connect 7 0 1 0;
#X connect 8 0 9 0;
#X connect 9 1 23 0;
#X connect 10 0 44 0;
#X connect 11 0 14 0;
#X connect 12 0 14 1;
#X connect 13 0 16 0;
#X connect 14 0 6 0;
#X connect 15 0 48 0;
#X connect 15 0 51 0;
#X connect 16 0 38 0;
#X connect 17 0 20 0;
#X connect 18 0 19 0;
#X connect 18 1 20 0;
#X connect 19 0 21 1;
#X connect 20 0 21 1;
#X connect 21 0 22 0;
#X connect 22 0 45 0;
#X connect 23 0 15 0;
#X connect 23 1 13 0;
#X connect 23 2 7 1;
#X connect 23 3 21 0;
#X connect 24 0 26 0;
#X connect 25 0 46 0;
#X connect 26 0 25 0;
#X connect 27 0 8 1;
#X connect 27 1 25 1;
#X connect 27 1 47 0;
#X connect 28 0 42 0;
#X connect 28 1 8 0;
#X connect 28 2 30 0;
#X connect 31 0 12 1;
#X connect 36 0 39 0;
#X connect 37 0 36 0;
#X connect 38 0 12 0;
#X connect 38 0 50 0;
#X connect 39 0 52 0;
#X connect 39 1 53 0;
#X connect 40 0 48 0;
#X connect 41 0 48 0;
#X connect 43 0 27 0;
#X connect 48 0 11 0;
#X connect 48 0 49 0;
#X connect 52 0 40 0;
#X connect 53 0 41 0;
#X connect 54 0 63 0;
#X connect 55 0 54 1;
#X connect 56 0 54 1;
#X connect 57 0 56 0;
#X connect 58 0 55 0;
#X connect 58 1 56 0;
#X connect 59 0 60 0;
#X connect 60 0 54 0;
#X connect 61 0 62 0;
#X connect 62 1 76 0;
#X connect 63 0 105 0;
#X connect 64 0 67 0;
#X connect 65 0 67 1;
#X connect 66 0 69 0;
#X connect 67 0 59 0;
#X connect 68 0 94 0;
#X connect 68 0 97 0;
#X connect 69 0 89 0;
#X connect 70 0 73 0;
#X connect 71 0 72 0;
#X connect 71 1 73 0;
#X connect 72 0 74 1;
#X connect 73 0 74 1;
#X connect 74 0 75 0;
#X connect 75 0 104 0;
#X connect 76 0 68 0;
#X connect 76 1 66 0;
#X connect 76 2 60 1;
#X connect 76 3 74 0;
#X connect 77 0 79 0;
#X connect 78 0 103 0;
#X connect 79 0 78 0;
#X connect 80 0 61 1;
#X connect 80 1 78 1;
#X connect 80 1 93 0;
#X connect 81 0 107 0;
#X connect 81 1 61 0;
#X connect 81 2 101 0;
#X connect 87 0 90 0;
#X connect 88 0 87 0;
#X connect 89 0 65 0;
#X connect 89 0 96 0;
#X connect 90 0 98 0;
#X connect 90 1 99 0;
#X connect 91 0 94 0;
#X connect 92 0 94 0;
#X connect 94 0 64 0;
#X connect 94 0 95 0;
#X connect 98 0 91 0;
#X connect 99 0 92 0;
#X connect 100 0 28 0;
#X connect 100 1 81 0;
#X connect 106 0 65 1;
#X connect 107 0 102 0;
#X connect 108 0 80 0;
#X connect 109 0 107 0;
#X connect 109 1 61 0;
#X connect 110 0 109 0;
#X restore 51 287 pd sendvals_and_colors;
#X connect 1 0 7 0;
#X connect 2 0 8 0;
#X connect 7 0 18 0;
#X connect 8 0 5 0;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 12 0 34 0;
#X connect 13 0 14 0;
#X connect 14 0 36 0;
#X connect 15 0 17 0;
#X connect 16 0 19 0;
#X connect 17 0 1 0;
#X connect 17 1 24 0;
#X connect 17 2 16 0;
#X connect 19 0 24 1;
#X connect 20 0 13 0;
#X connect 21 0 20 1;
#X connect 22 0 2 0;
#X connect 23 0 2 0;
#X connect 25 0 15 0;
#X connect 26 0 27 0;
#X connect 27 0 28 0;
#X connect 29 0 7 0;
#X connect 30 0 8 0;
#X connect 31 0 13 1;
#X connect 33 0 20 0;
#X connect 34 0 33 0;
